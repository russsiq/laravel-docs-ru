# Laravel 9 · Структура каталогов

- [Введение](#introduction)
- [Корневой каталог](#the-root-directory)
    - [Каталог `app`](#the-root-app-directory)
    - [Каталог `bootstrap`](#the-bootstrap-directory)
    - [Каталог `config`](#the-config-directory)
    - [Каталог `database`](#the-database-directory)
    - [Каталог `lang`](#the-lang-directory)
    - [Каталог `public`](#the-public-directory)
    - [Каталог `resources`](#the-resources-directory)
    - [Каталог `routes`](#the-routes-directory)
    - [Каталог `storage`](#the-storage-directory)
    - [Каталог `tests`](#the-tests-directory)
    - [Каталог `vendor`](#the-vendor-directory)
- [Каталог пространства `App`](#the-app-directory)
    - [Каталог пространства `Broadcasting`](#the-broadcasting-directory)
    - [Каталог пространства `Console`](#the-console-directory)
    - [Каталог пространства `Events`](#the-events-directory)
    - [Каталог пространства `Exceptions`](#the-exceptions-directory)
    - [Каталог пространства `Http`](#the-http-directory)
    - [Каталог пространства `Jobs`](#the-jobs-directory)
    - [Каталог пространства `Listeners`](#the-listeners-directory)
    - [Каталог пространства `Mail`](#the-mail-directory)
    - [Каталог пространства `Models`](#the-models-directory)
    - [Каталог пространства `Notifications`](#the-notifications-directory)
    - [Каталог пространства `Policies`](#the-policies-directory)
    - [Каталог пространства `Providers`](#the-providers-directory)
    - [Каталог пространства `Rules`](#the-rules-directory)

<a name="introduction"></a>
## Введение

Структура приложения Laravel по умолчанию предназначена для обеспечения отличной отправной точки как для больших, так и небольших приложений. Но вы можете организовать свое приложение так, как вам нравится. Laravel почти не налагает ограничений на расположение любого конкретного класса, до тех пор, пока Composer может автоматически загружать класс.

<a name="the-root-directory"></a>
## Корневой каталог

<a name="the-root-app-directory"></a>
#### Каталог `app`

Каталог `app` содержит основной код вашего приложения. Вскоре мы рассмотрим этот каталог более подробно; однако почти все классы в вашем приложении будут в этом каталоге.

<a name="the-bootstrap-directory"></a>
#### Каталог `bootstrap`

Каталог `bootstrap` содержит файл `app.php`, который загружает фреймворк. В этом каталоге также находится каталог `cache`, содержащий файлы, сгенерированные фреймворком для оптимизации производительности, например, файлы кеша маршрутов и служб. Обычно вам не нужно изменять какие-либо файлы в этом каталоге.

<a name="the-config-directory"></a>
#### Каталог `config`

Каталог `config`, как следует из названия, содержит все файлы конфигурации вашего приложения. Отличная идея прочитать все эти файлы и ознакомиться со всеми доступными вам параметрами.

<a name="the-database-directory"></a>
#### Каталог `database`

Каталог `database` содержит миграции ваших баз данных, фабрики моделей и наполнители. При желании вы также можете использовать этот каталог для хранения SQLite БД.

<a name="the-lang-directory"></a>
#### Каталог `lang`

Каталог `lang` содержит все языковые файлы вашего приложения.

<a name="the-public-directory"></a>
#### Каталог `public`

Каталог `public` содержит файл `index.php`, который является точкой входа для всех запросов, поступающих в ваше приложение, и конфигурирует автозагрузку. В этом каталоге также находятся ваши ресурсы, например, изображения, JavaScript и CSS.

<a name="the-resources-directory"></a>
#### Каталог `resources`

Каталог `resources` содержит ваши [шаблоны](views.md), а также ваши необработанные, нескомпилированные ресурсы, например, JavaScript или CSS.

<a name="the-routes-directory"></a>
#### Каталог `routes`

Каталог `routes` содержит все определения маршрутов для вашего приложения. По умолчанию в Laravel входит несколько файлов маршрутов: `web.php`, `api.php`, `console.php` и `channels.php`.

Файл `web.php` содержит маршруты, которые `RouteServiceProvider` размещает в группе посредников `web`, обеспечивающие состояние сессии, защиту CSRF и шифрование файлов куки. Если в вашем приложении не предполагается сохранение состояния и RESTful API, то, скорее всего, все ваши маршруты будут определены в файле `web.php`.

Файл `api.php` содержит маршруты, которые `RouteServiceProvider` размещает в группе посредников `api`. Эти маршруты не предполагают сохранения состояния, поэтому запросы, поступающие в приложение через эти маршруты, предназначены для аутентификации [с помощью токенов](sanctum.md) и не имеют доступа к состоянию сессии.

В файле `console.php` вы можете определить все ваши анонимные консольные команды. Каждое замыкание привязано к экземпляру команды, что обеспечивает простой подход к взаимодействию с методами ввода-вывода каждой команды. Несмотря на то, что этот файл не определяет маршруты HTTP, он определяет точки входа (маршруты) в ваше консольное приложение.

В файле `channels.php` вы можете зарегистрировать все каналы [трансляции событий](broadcasting.md), которые поддерживает ваше приложение.

<a name="the-storage-directory"></a>
#### Каталог `storage`

Каталог `storage` содержит ваши журналы (логи), скомпилированные шаблоны Blade, файлы сессий, кеша и другие файлы, созданные фреймворком. Этот каталог разделен на каталоги `app`, `framework` и `logs`. Каталог `app` может использоваться для хранения любых файлов, созданных вашим приложением. Каталог `framework` используется для хранения файлов и кешей, сгенерированных фреймворком. Наконец, каталог `logs` содержит файлы журнала вашего приложения.

Каталог `storage/app/public` может использоваться для хранения файлов, созданных пользователями, таких как аватары профиля, которые должны быть общедоступными. Вы должны создать символическую ссылку (ярлык) в `public/storage`, которая указывает на этот каталог. Вы можете создать ссылку, используя команду `php artisan storage:link` Artisan.

<a name="the-tests-directory"></a>
#### Каталог `tests`

Каталог `tests` содержит ваши автоматизированные тесты. Примеры модульного [PHPUnit](https://phpunit.de/) и функционального тестов предоставляются из коробки. Каждый тестовый класс должен иметь суффикс `Test`. Вы можете запускать свои тесты с помощью команд `phpunit` или `php vendor/bin/phpunit`. Или, если вы хотите более подробное и красивое отображение результатов ваших тестов, вы можете запускать свои тесты с помощью команды `php artisan test` Artisan.

<a name="the-vendor-directory"></a>
#### Каталог `vendor`

Каталог `vendor` содержит ваши [Composer](https://getcomposer.org)-зависимости.

<a name="the-app-directory"></a>
## Каталог пространства `App`

Большая часть вашего приложения находится в каталоге `app`. По умолчанию этот каталог находится в пространстве имен `App` и автоматически загружается Composer с использованием [автозагрузчика стандарта PSR-4](https://www.php-fig.org/psr/psr-4/).

Каталог `app` содержит множество дополнительных каталогов, например, имеющих пространство `Console`, `Http` и `Providers`. Думайте о каталогах `Console` и `Http` как о API-проводнике ядра вашего приложения. Протокол HTTP и интерфейс командной строки являются механизмами взаимодействия с вашим приложением, но фактически не содержат логики приложения. Другими словами – это два способа передачи команд вашему приложению. Каталог `Console` содержит все ваши Artisan-команды, тогда как каталог `Http` содержит контроллеры, посредники и запросы.

Множество других каталогов будет создано внутри каталога `app`, когда вы будете использовать команды `make` Artisan для создания классов. Так, например, каталог `app/Jobs` не будет существовать, пока вы не выполните команду `make:job` Artisan для создания класса задания.

> {tip} Многие классы в каталоге `app` могут быть созданы с помощью команд Artisan. Чтобы просмотреть доступные команды, выполните команду `php artisan list make` в консоли.

<a name="the-broadcasting-directory"></a>
#### Каталог пространства `Broadcasting`

Каталог `Broadcasting` содержит все классы широковещательных каналов для вашего приложения. Эти классы генерируются с помощью команды `make:channel`. Этот каталог не существует по умолчанию, но будет создан для вас, когда вы создадите свой первый канал. Чтобы узнать больше о каналах, ознакомьтесь с документацией по [трансляции событий](broadcasting.md).

<a name="the-console-directory"></a>
#### Каталог пространства `Console`

Каталог `Console` содержит все ваши Artisan-команды приложения. Эти команды могут быть созданы с помощью команды `make:command`. В этом каталоге также находится ядро вашей консоли, в котором регистрируются ваши пользовательские команды Artisan и определены ваши [запланированные задачи](scheduling.md).

<a name="the-events-directory"></a>
#### Каталог пространства `Events`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команды `event:generate` или `make:event` Artisan. В каталоге `Events` находятся [классы событий](events.md). События могут использоваться для предупреждения других частей вашего приложения о том, что произошло определенное действие, обеспечивая большую гибкость.

<a name="the-exceptions-directory"></a>
#### Каталог пространства `Exceptions`

Каталог `Exceptions` содержит обработчик исключений вашего приложения, а также является хорошим местом для размещения любых исключений, генерируемых вашим приложением. Если вы хотите скорректировать как ваши исключения будут отображаться или записываться в журнал, вам следует изменить класс `Handler` в этом каталоге.

<a name="the-http-directory"></a>
#### Каталог пространства `Http`

Каталог `Http` содержит ваши контроллеры, посредники и запросы форм. Практически вся логика обработки запросов, поступающих в ваше приложение, будет размещена в этом каталоге.

<a name="the-jobs-directory"></a>
#### Каталог пространства `Jobs`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команду `make:job` Artisan. В каталоге `Jobs` находятся [планировщики заданий](queues.md) вашего приложения. Задания могут быть поставлены в очередь вашим приложением или выполняться синхронно в рамках жизненного цикла текущего запроса. Задания, которые выполняются синхронно во время текущего запроса, иногда называют «командами», поскольку они являются реализацией [шаблона команды](https://ru.wikipedia.org/wiki/Команда_(шаблон_проектирования)).

<a name="the-listeners-directory"></a>
#### Каталог пространства `Listeners`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команды `event:generate` или `make:listener` Artisan. Каталог `Listeners` содержит классы, которые обрабатывают ваши [события](events.md). Слушатели событий получают экземпляр события и выполняют логику в ответ на запускаемое событие. Например, событие `UserRegistered` может обрабатываться слушателем `SendWelcomeEmail`.

<a name="the-mail-directory"></a>
#### Каталог пространства `Mail`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команду `make:mail` Artisan. Каталог `Mail` содержит все ваши [классы для работы с электронными письмами](mail.md), отправляемыми вашим приложением. Почтовые объекты позволяют вам инкапсулировать всю логику создания электронной почты в один простой класс, который может быть отправлен с помощью метода `Mail::send`.

<a name="the-models-directory"></a>
#### Каталог пространства `Models`

Каталог `Models` содержит все ваши [классы моделей Eloquent](eloquent.md). Laravel содержит библиотеку Eloquent ORM, предоставляющую красивую и простую реализацию ActiveRecord для работы с вашей базой данных. Каждая таблица базы данных имеет соответствующую «Модель», которая используется для взаимодействия с этой таблицей. Модели позволяют запрашивать данные в таблицах, а также вставлять новые записи в таблицу.

<a name="the-notifications-directory"></a>
#### Каталог пространства `Notifications`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команду `make:notification` Artisan. Каталог `Notifications` содержит все «транзакционные» [уведомления](notifications.md), которые отправляются вашим приложением, например, простые уведомления о событиях, которые происходят в вашем приложении. Уведомления Laravel позволяют абстрагироваться от отправки уведомлений по различным драйверам, таким как электронная почта, Slack, SMS или сохранение в базе данных.

<a name="the-policies-directory"></a>
#### Каталог пространства `Policies`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команду `make:policy` Artisan. Каталог `Policies` содержит [классы политик авторизации](authorization.md) вашего приложения. Политики используются для определения того, может ли пользователь выполнить определенное действие с ресурсом.

<a name="the-providers-directory"></a>
#### Каталог пространства `Providers`

Каталог `Providers` содержит всех [поставщиков служб](providers.md) вашего приложения. Поставщики служб загружают ваше приложение, связывая службы в контейнере служб, регистрируя события или выполняя любые другие задачи для подготовки вашего приложения к входящим запросам.

В новом приложении Laravel этот каталог уже будет содержать несколько провайдеров. При необходимости вы можете добавить свои собственные провайдеры в этот каталог.

<a name="the-rules-directory"></a>
#### Каталог пространства `Rules`

Этот каталог не существует по умолчанию, но будет создан для вас, если вы выполните команду `make:rule` Artisan. Каталог `Rules` содержит пользовательские объекты правил валидации вашего приложения. Правила используются для инкапсуляции сложной логики проверки в простой объект. Для получения дополнительной информации ознакомьтесь с [документацией по валидации](validation.md).
